---
  title: 'Random Survival Forest Model'
---
  
---

# Initialization 

In the second example, we present the Random Forest model for a distance measure approximation applied on the `ovarian` data set from the `survival` package. This package offers two ways for distance/similarity calculation (see documentation): 

- proximity

- depth 

Let's initialize the R6 data object. 

<br>
```{r, warning=FALSE, message=FALSE}
library(survival)
library(cbr)

# all variables should be numeric or factor
ovarian$resid.ds <- factor(ovarian$resid.ds)
ovarian$rx <- factor(ovarian$rx)
ovarian$ecog.ps <- factor(ovarian$ecog.ps)

# initialize R6 object
sc <- cbrRFModel$new(formula = Surv(futime, fustat) ~ age + resid.ds + rx + ecog.ps, data=ovarian, queryData=ovarian)
```

All cases with missing values in the learning and end point variables are dropped (`na.omit`) and the reduced data set without missing values is saved internally. You get a text output on how many cases were dropped. `character` variables will be transformed to `factor`.

Optionally, you may want to adjust some parameters in the fitting step of the random forest algorithm. Possible arguments are: , `ntree`, `mtry`, and `splitrule`. The documentation of this parameters can be found in the ranger R-package. Furthermore, you are able to choose the two distance measures:

+ proximity matrix 
+ depth matrix

This can be done by

```{r, warning=FALSE, message=FALSE}
sc$set_dist(distMethod = "proximity")
```
or
```{r, warning=FALSE, message=FALSE}
sc$set_dist(distMethod = "depth") # the default value
```

All other steps (excluding checking for proportional hazard assumption are the same as for the Cox-Model). 

<br>
